<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
			rel="stylesheet"
		/>
	</head>
	<body>
		<!-- Modal trigger button -->
		<button
			type="button"
			class="btn btn-primary btn-lg"
			data-bs-toggle="modal"
			data-bs-target="#exampleModal"
		>
			Launch
		</button>

		<!-- Modal Body -->
		<!-- if you want to close by clicking outside the modal, delete the last endpoint:data-bs-backdrop and data-bs-keyboard -->
		<div
			class="modal fade"
			id="exampleModal"
			tabindex="-1"
			role="dialog"
			aria-labelledby="exampleModalLabel"
			aria-hidden="true"
		>
			<div class="modal-dialog modal-dialog-scrollable" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="exampleModalLabel">
							Modal title
						</h5>
						<button
							type="button"
							class="btn-close"
							data-bs-dismiss="modal"
							aria-label="Close"
						></button>
					</div>
					<div class="modal-body">Body</div>
					<div class="modal-footer">
						<button
							type="button"
							class="btn btn-secondary"
							data-bs-dismiss="modal"
						>
							Close
						</button>
						<button type="button" class="btn btn-primary">
							Save
						</button>
					</div>
				</div>
			</div>
		</div>

		<!-- Optional: Place to the bottom of scripts -->
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

		<script>
			// Get delete buttons
			const deleteBtns = document.querySelectorAll(".deleteBtn");
			// Get confirm delete button
			const deleteConfirmBtn =
				document.getElementById("deleteConfirmBtn");
			// Add click event listener to each delete button
			deleteBtns.forEach(function (btn) {
				btn.addEventListener("click", function (e) {
					// Get id from clicked button
					var id = e.target.getAttribute("data-id");
					// Set href attribute of confirm delete button
					deleteConfirmBtn.setAttribute(
						"href",
						"./scripts/delete.php?id=" + id
					);
					// Show modal
					var myModal = new bootstrap.Modal(
						document.getElementById("exampleModal"),
						{}
					);
					myModal.show();
				});
			});

			// Close the modal when the close button is clicked
			var closeBtn = document.querySelector(".btn-close");
			closeBtn.addEventListener("click", function () {
				var myModal = bootstrap.Modal.getInstance(
					document.getElementById("exampleModal")
				);
				myModal.hide();
			});

			// Close the modal when the Cancel button is clicked
			var cancelBtn = document.querySelector(".btn-secondary");
			cancelBtn.addEventListener("click", function () {
				var myModal = bootstrap.Modal.getInstance(
					document.getElementById("exampleModal")
				);
				myModal.hide();
			});
		</script>
	</body>
</html>

<table class="table table-bordered table-dark mt-4">
	<thead>
		<tr>
			<th>ID</th>
			<th>Name</th>
			<th>Price</th>
			<th>Description</th>
			<th>Actions</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>
				<div class="d-flex justify-content-between">
					<button class="btn btn-primary">
						<a class="nav-link" href="update.php?id=$id">Update</a>
					</button>
					<button
						class="btn btn-danger deleteBtn"
						data-id="$id"
						data-bs-toggle="modal"
						data-bs-target="#exampleModal"
					>
						Delete
					</button>
				</div>
			</td>
		</tr>
	</tbody>
</table>
